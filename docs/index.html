<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Interactive Architecture</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom/dist/svg-pan-zoom.min.js"></script>
  <style>
    .animate-dash { stroke-dasharray: 6 4; animation: dash 2s linear infinite; }
    @keyframes dash { to { stroke-dashoffset: -100; } }
  </style>
</head>
<body>
<div class="mermaid">
flowchart LR
  A[Client App] --> B[API Gateway]
  B --> C[Orchestration]
  C --> D[(Vector DB)]
  C --> E[(Data Lake)]
  C --> F[LLM Service]
  F --> G[Guardrails]
  G --> H[Response]

  click A "https://your-link.example/app" "Open Client" _blank
  click D "https://your-link.example/vectordb" "Open Vector DB" _blank
  click F "https://your-link.example/llm" "Open LLM" _blank
</div>

<script>
  mermaid.initialize({ startOnLoad: true, theme: "default", securityLevel: "loose" });
  document.addEventListener("DOMContentLoaded", () => {
    // Wait a tick for Mermaid to render
    setTimeout(() => {
      const svg = document.querySelector("svg");
      if (!svg) return;
      // Light arrow animation
      svg.querySelectorAll("path[marker-end]").forEach(p => p.classList.add("animate-dash"));
      // Pan & zoom
      svgPanZoom(svg, { controlIconsEnabled: true, fit: true, center: true });
    }, 300);
  });
</script>
</body>
</html>
